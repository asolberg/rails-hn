Script started on Tue 15 Oct 2013 09:57:40 PM UTC
vagrant@precise32:~/dev/personal/ruby/rails-hn$ rails server[Kscript/console --help
bash: script/console: No such file or directory
vagrant@precise32:~/dev/personal/ruby/rails-hn$ rails console
Loading development environment (Rails 4.0.0)
1.9.3-p385 :001 > exit    l = Link.all(:joins => :votes, :select => "links.*, count(votes.id) as votess_count", :group => "links.id")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):1)
  [1m[36mLink Load (1.3ms)[0m  [1mSELECT links.*, count(votes.id) as votes_count FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :002 > l.fires  st.votes_count
 => 2 
1.9.3-p385 :003 > l.first.votes_count = Link.all(:joins => :votes, :select => "links.*, count(votes.id) as votess_count", :group => "links.id")[A1.9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, count(votes.id) as vot(votes.id) as votes_[1P[A.9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, coun(votes.id) as votes_c[1P[A.9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, cou(votes.id) as votes_co[1P[A.9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, co(votes.id) as votes_cou[1P[A.9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, c(votes.id) as votes_coun[1P[A.9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, s(votes.id) as votes_cou[1@n[A9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, su(votes.id) as votes_co[1@u[A9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_c[1@o[A9.3-p385 :003 > l = Link.all(:joins => :votes, :select => "links.*, sum

DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):3)
  [1m[35mLink Load (1.7ms)[0m  SELECT links.*, sum(votes.id) as votes_count FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_ccount", :group => "links.id")[A1.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes) as votes_co[1P[A.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.i) as votes_cou[1P[A.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.v) as votes_co[1@u[A9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.va) as votes_c[1@o[A9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.val) as votes_[1@c[A9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.valu) as votes[1@_[A9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as vote[1@s[A9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as vo
es_coun[A1.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as vo ^C

1.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_ccount", :group => "links.id")[A[K
[K[A1.9.3-p385 :004 > ^C
1.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_ccount", :group => "links.id")[A.first.votes_count[K
[K[A1.9.3-p385 :004 > l.first.votes_count = Link.all(:joins => :votes, :select => "links.*, count(votes.id) as votess_count", :group => "links.id")[A[K
[K[A1.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, count(votes.id) as votess_count", :group => "links.id")[A[K
[K[A1.9.3-p385 :004 > l = Link.all(:joins => :votes, :select => "links.*, count(votes.id) as votess_count", :group => "links.id")[A.first.votes_count[K
[K[A1.9.3-p385 :004 > l.first.votes_count = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_ccount", :group => "links.id")[A[K
[K[A1.9.3-p385 :004 > ^C
1.9.3-p385 :004 > 
1.9.3-p385 :005 >   
1.9.3-p385 :006 >   
1.9.3-p385 :007 >   
1.9.3-p385 :008 >   
1.9.3-p385 :009 >   
1.9.3-p385 :010 >   
1.9.3-p385 :011 >   
1.9.3-p385 :012 >   
1.9.3-p385 :013 >   
1.9.3-p385 :014 >   
1.9.3-p385 :015 >   
1.9.3-p385 :016 >   
1.9.3-p385 :017 >   
1.9.3-p385 :018 >   
1.9.3-p385 :019 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votess_count", :group => "links.id")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):19)
  [1m[36mLink Load (1.8ms)[0m  [1mSELECT links.*, sum(votes.id) as votes_count FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :020 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_ccount", :group => "links.id")[A[K
[K[A1.9.3-p385 :020 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_ccount", :group => "links.id")[A[K
[K[A1.9.3-p385 :020 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_ccount", :group => "links.id")[A[K
[K[A1.9.3-p385 :020 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_ccount", :group => "links.id")[A[K
[K[A1.9.3-p385 :020 > ^C
1.9.3-p385 :020 > 
1.9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votess_count", :group => "links.id")[A1.9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as vot "links.*, sum(votes.id) as votes_[1P[A.9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.i) as votes_c[1P[A.9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.v) as votes_[1@c[A9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.va) as votes[1@_[A9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.val) as vote[1@s[A9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.valu) as vot[1@e[A9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as vo[1@t[A9.3-p385 :021 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value)^C

1.9.3-p385 :021 > exit
vagrant@precise32:~/dev/personal/ruby/rails-hn$ clear
[H[2Jvagrant@precise32:~/dev/personal/ruby/rails-hn$ rails console
Loading development environment (Rails 4.0.0)
1.9.3-p385 :001 > 
1.9.3-p385 :002 >   exitl = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_count", :group => "links.id")[1P[1P[1@v[1@a[1@l[1@u[1@e) as votes_count"[1P[1P[1P[1P[1P[1@v[1@a[1@l[1@u[1@e", :
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):2)
  [1m[36mLink Load (1.2ms)[0m  [1mSELECT links.*, sum(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :003 > l.first.votes_value
 => 2 
1.9.3-p385 :004 > l.first.votes_value[1P[1P[1P[1P[1P[1@l[1@a[1@s[1@t
 => 0 
1.9.3-p385 :005 > l.last.votes_value.votes_value
 => 0 
1.9.3-p385 :006 > l.last.votes_value[1@first.votes_value = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):6)
  [1m[35mLink Load (1.2ms)[0m  SELECT links.*, sum(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :007 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :007 > l.last.votes_value[K
 => 0 
1.9.3-p385 :008 > l.last.votes_value = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :008 > l.last.votes_value[K = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :008 > l.last.votes_value[K = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :008 > l.last.votes_value[K[K. l.last.votes
  [1m[36mVote Load (4.8ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" = $1[0m  [["link_id", 2]]
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 2, value: 1, created_at: "2013-10-15 04:21:41", updated_at: "2013-10-15 20:46:09", link_id: 2, user_id: 5>, #<Vote id: 4, value: -1, created_at: "2013-10-15 20:45:43", updated_at: "2013-10-15 20:45:43", link_id: 2, user_id: 4>]> 
1.9.3-p385 :009 > l.last.votes[1P[1P[1P[1P[1@f[1@i[1@r[1@s[1@t
  [1m[35mVote Load (0.8ms)[0m  SELECT "votes".* FROM "votes" WHERE "votes"."link_id" = $1  [["link_id", 1]]
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 1, value: 1, created_at: nil, updated_at: "2013-10-15 20:42:06", link_id: 1, user_id: 5>, #<Vote id: 3, value: 1, created_at: "2013-10-15 20:45:24", updated_at: "2013-10-15 20:45:24", link_id: 1, user_id: 4>]> 
1.9.3-p385 :010 > ‰‰àl.first.votes[1Plast.votes_value = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):10)
  [1m[36mLink Load (0.9ms)[0m  [1mSELECT links.*, sum(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :011 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :011 > l.first.votes[K
  [1m[35mVote Load (1.0ms)[0m  SELECT "votes".* FROM "votes" WHERE "votes"."link_id" = $1  [["link_id", 1]]
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 1, value: 1, created_at: nil, updated_at: "2013-10-15 20:42:06", link_id: 1, user_id: 5>, #<Vote id: 3, value: 1, created_at: "2013-10-15 20:45:24", updated_at: "2013-10-15 20:45:24", link_id: 1, user_id: 4>]> 
1.9.3-p385 :012 > l.first.votes = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :012 > l.first.votes[K[1Plast.votes_value
 => -1 
1.9.3-p385 :013 > . l.,co   count
 => 3 
1.9.3-p385 :014 > l.countlast.votes_value[5Pfirst.votes = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):14)
  [1m[36mLink Load (1.5ms)[0m  [1mSELECT links.*, sum(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :015 > 
1.9.3-p385 :016 >   l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :016 >   l.count[K = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):16)
  [1m[35mLink Load (1.4ms)[0m  SELECT links.*, sum(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :017 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id") as votes_value", :group => "links.id")1.9.3-p385 :017 > l.count[Klast.votes_value[5Pfirst.votes = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :017 > l.first.votes[K[1Plast.votes[1@first.votes = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :017 > l.first.votes[K[1Plast.votes_value = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :017 > l.last.votes_value[K[1@first.votes_value[1Plast.votes_value = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :017 > l.last.votes_value[K[1@first.votes_value = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :017 > exit[Kl = Link.all(:joins => :votes, :select => "links.*, sum(votes.id) as votes_count", :group => "links.id")1.9.3-p385 :017 > l.first.votes_count[K = Link.all(:joins => :votes, :select => "links.*, count(votes.id) as votes_count", :group => "links.id")1.9.3-p385 :017 > [Kl = Link.all(:joins => :votes, :select => "links.*, count(votes.id) as votes_count", :group => "votes.id")1.9.3-p385 :017 > l = Link.all(:[28Pinclude => :votes, :conditions => { :votes => { :user_id => 5}})[7P["votes.user_id == 5"])[7@{ :votes => { :user_id => 5}})1.9.3-p385 :017 > l = Link.all(:[28@joins => :votes, :select => "links.*, count(votes.id) as votes_count", :group => "votes.id")1.9.3-p385 :017 > l = Link.all(:[28Pinclude => :votes, :conditions => { :votes => { :user_id => 5}})[7P["votes.user_id == 5"]))[K1.9.3-p385 :017 > l = Li[39@st.all(:include => :votes, :conditions => ["votes.user_id == 5"])1.9.3-p385 :017 > l = Li[39Pnk.all(:include => :votes), :conditions => ["votes.user_id == 5"]))[K1.9.3-p385 :017 > l = Li[39@st.all(:include => :votes, :conditions => ["votes.user_id == 5"])1.9.3-p385 :017 > l.last.votes[K[1@first.votes[2Pvotes.all = Links.all(:include => :votes)1.9.3-p385 :017 > [21Pv.first.link = Vote.all(:include => :link)[2Pjoins => :link)1.9.3-p385 :017 > q[Kl = Link.all(:joins => :vote)1.9.3-p385 :017 > l[17P.vote.count[1@s.count = Link.all(:joins => :votes)1.9.3-p385 :017 > l[14Pink.votes.count[2PallLink.all(:joins => :votes)^C
1.9.3-p385 :017 > (reverse-i-search)`': c': l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")(reverse-i-search)`c': l = Link.all(:joins => :votes, :sele(reverse-i-search)`co': l.count[Kn': l = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})(reverse-i-search)`con[1@d': l = Link.all(:include => :votes, :[8P1.9.3-p385 :017 > l = Link.all(:include => :votes, :[1@[[1@Cconditi[1P
1.9.3-p385 :018?>   l.count
1.9.3-p385 :019?>   ;
1.9.3-p385 :020 >     ^C
1.9.3-p385 :020 > ;l.count = Link.all(:include => :votes, :[conditions => { :votes => { :user_id => 5}})}])
SyntaxError: (irb):20: syntax error, unexpected '[', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...Link.all(:include => :votes, :[conditions => { :votes => { :...
...                               ^
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :021 > l = Link.all(:include => :votes, :[conditions => { :votes => { :user_id => 5}}])^C
1.9.3-p385 :021 > (reverse-i-search)`': c': l = Link.all(:include => :votes, :[conditions => { :votes => { :user_id => 5}}])(reverse-i-search)`c[1@o': l = Link.all(:include => :votes, :[(reverse-i-search)`co[1@n': l = Link.all(:include => :votes, :[(reverse-i-search)`con[1@d': l = Link.all(:include => :votes, :[conditions => { :votes => { :user_id => 5}}[1P)[1P[8P1.9.3-p385 :021 > l = Link.all(:include => :votes, :
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):21)
  [1m[36mSQL (0.9ms)[0m  [1mSELECT "links"."id" AS t0_r0, "links"."title" AS t0_r1, "links"."url" AS t0_r2, "links"."description" AS t0_r3, "links"."created_at" AS t0_r4, "links"."updated_at" AS t0_r5, "votes"."id" AS t1_r0, "votes"."value" AS t1_r1, "votes"."created_at" AS t1_r2, "votes"."updated_at" AS t1_r3, "votes"."link_id" AS t1_r4, "votes"."user_id" AS t1_r5 FROM "links" LEFT OUTER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE "votes"."user_id" = 5[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :022 > l = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})1.9.3-p385 :022 > [Kl = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})1.9.3-p385 :022 > [Kl.count
 => 2 
1.9.3-p385 :023 > l.count = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)[1P)
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):23)
  [1m[35mLink Load (0.7ms)[0m  SELECT "links".* FROM "links"
  [1m[36mVote Load (1.5ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :024 > l.count
 => 3 
1.9.3-p385 :025 > l.count = Link.all(:include => :votes)^C
1.9.3-p385 :025 > (reverse-i-search)`': s': l = Link.all(:include => :votes)(reverse-i-search)`s[47@e': l = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}}(reverse-i-search)`se[30@l': l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id"(reverse-i-search)`sel': l = Link.all(:joins => :votes, :(reverse-i-search)`sel[1@e': l = Link.all(:joins => :votes, :[8P1.9.3-p385 :025 > l = Link.all(:joins => :votes, :[1@[[1@C :^C
1.9.3-p385 :025 > (reverse-i-search)`': s': l = Link.all(:include => :votes)(reverse-i-search)`s[47@e': l = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}}(reverse-i-search)`se[30@l': l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id"(reverse-i-search)`sel': l = Link.all(:joins => :votes, :(reverse-i-search)`sel[1@e': l = Link.all(:joins => :votes, :^C
1.9.3-p385 :025 > (reverse-i-search)`': s': l = Link.all(:include => :votes)(reverse-i-search)`s[47@e': l = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}}(reverse-i-search)`se[30@l': l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id"(reverse-i-search)`sel': l = Link.all(:joins => :votes, :^C
1.9.3-p385 :025 > (reverse-i-search)`': s': l = Link.all(:include => :votes)(reverse-i-search)`s[47@e': l = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}}(reverse-i-search)`se[30@l': l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id"(reverse-i-search)`sel': l = Link.all(:joins => :votes, :[7P1.9.3-p385 :025 > l = Link.all(:joins => :votes, :
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):25)
  [1m[35mLink Load (1.3ms)[0m  SELECT links.*, sum(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :026 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")[1@"[1@l[1@i[1@n[1@k[1@.[1@o[1P[1@v[1@o[1@t[1@e[1@s[1@.[1@*[1@"[1@,[1@ 
SyntaxError: (irb):26: syntax error, unexpected tIDENTIFIER, expecting ')'
...es, :select => "links.*, s"link.votes.*", um(votes.value) as...
...                               ^
(irb):26: syntax error, unexpected ')', expecting $end
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :027 > l = Link.all(:joins => :votes, :select => "links.*, s"link.votes.*", um(votes.value) as votes_value", :group => "links.id")[16Pum(votes.value) as votes_value", :group => "links.id")[16@"link.votes.*", um(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :027 > [Kl = Link.all(:joins => :votes, :select => "links.*, s"link.votes.*", um(votes.value) as votes_value", :group => "links.id")
SyntaxError: (irb):27: syntax error, unexpected tIDENTIFIER, expecting ')'
...es, :select => "links.*, s"link.votes.*", um(votes.value) as...
...                               ^
(irb):27: syntax error, unexpected ')', expecting $end
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :028 > l = Link.all(:joins => :votes, :select => "links.*, s"link.votes.*", um(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :028 > [Kl = Link.all(:joins => :votes, :select => "links.*, s"link.votes.*", um(votes.value) as votes_value", :group => "links.id")[16Pum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :028 > l.count[K = Link.all(:include => :votes)1.9.3-p385 :028 > l.count[K = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")[16@"link.votes.*", um(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :028 > [Kl = Link.all(:joins => :votes, :select => "links.*, s"link.votes.*", um(votes.value) as votes_value", :group => "links.id")[16Pum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :028 > l.count[K = Link.all(:include => :votes)1.9.3-p385 :028 > l.count[K = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})[2@[conditions => { :votes => { :user_id => 5}}])1.9.3-p385 :028 > ;[Kl = Link.all(:include => :votes, :[conditions => { :votes => { :user_id => 5}}])1.9.3-p385 :028 > ;[Kl.count = Link.all(:include => :votes, :[conditions => { :votes => { :user_id => 5}})1.9.3-p385 :028 > l = Link.all(:[28@joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")[1@"[1@l[1@i[1@n[1@k[1@s[1@.[1@v[1@o[1@t[1@e[1@s[1@.[1@*[1@"[1@,[1@ 
SyntaxError: (irb):28: syntax error, unexpected tIDENTIFIER, expecting ')'
...s, :select => "links.*, s"links.votes.*", um(votes.value) as...
...                               ^
(irb):28: syntax error, unexpected ')', expecting $end
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :029 > l = Link.all(:joins => :votes, :select => "links.*, s"links.votes.*", um(votes.value) as votes_value", :group => "links.id")[1P.votes.*", um(votes.value) as votes_value", :group => "links.id")[1@s.votes.*", um(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :029 > [Kl = Link.all(:joins => :votes, :select => "links.*, s"links.votes.*", um(votes.value) as votes_value", :group => "links.id")[1P.votes.*", um(votes.value) as votes_value", :group => "links.id")[16Pum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :029 > l.count[K = Link.all(:include => :votes)1.9.3-p385 :029 > l.count[K = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})[2@[conditions => { :votes => { :user_id => 5}}])1.9.3-p385 :029 > ;[Kl.count = Link.all(:include => :votes, :[conditions => { :votes => { :user_id => 5}})1.9.3-p385 :029 > l = Link.all(:[28@joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):29)
  [1m[36mLink Load (1.4ms)[0m  [1mSELECT links.*, sum(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :030 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")[1@l[1@i[1@n[1@k[1@s[1@.[1@v[1@o[1@t[1@e[1@.[1P[1@s[1@.[1@*[1@,[1@ 
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):30)
  [1m[35mLink Load (0.9ms)[0m  SELECT links.*, slinks.votes.*, um(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
PG::InvalidSchemaName: ERROR:  schema "slinks" does not exist
: SELECT links.*, slinks.votes.*, um(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
ActiveRecord::StatementInvalid: PG::InvalidSchemaName: ERROR:  schema "slinks" does not exist
: SELECT links.*, slinks.votes.*, um(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/rack-mini-profiler-0.1.31/Ruby/lib/patches/sql_patches.rb:155:in `exec'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/rack-mini-profiler-0.1.31/Ruby/lib/patches/sql_patches.rb:155:in `async_exec'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in `exec_no_cache'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:138:in `block in exec_query'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:425:in `block in log'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:420:in `log'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:137:in `exec_query'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:885:in `select'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:24:in `select_all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:63:in `select_all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/querying.rb:36:in `find_by_sql'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:585:in `exec_queries'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:471:in `load'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:220:in `to_a'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-deprecated_finders-1.0.3/lib/active_record/deprecated_finders/relation.rb:168:in `all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-deprecated_finders-1.0.3/lib/active_record/deprecated_finders/base.rb:67:in `all'
	from (irb):30
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'1.9.3-p385 :031 > 
1.9.3-p385 :032 >   l = Link.all(:joins => :votes, :select => "links.*, slinks.votes.*, um(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :032 >   [Kl = Link.all(:joins => :votes, :select => "links.*, slinks.votes.*, um(votes.value) as votes_value", :group => "links.id")[15Pum(votes.value) as votes_value", :group => "links.id")[15@links.votes.*, um(votes.value) as votes_value", :group => "links.id")[15Pum(votes.value) as votes_value", :group => "links.id")[17@"links.votes.*", um(votes.value) as votes_value", :group => "links.id")[1P.votes.*", um(votes.value) as votes_value", :group => "links.id")[16Pum(votes.value) as votes_value", :group => "links.id")1.9.3-p385 :032 >   l.count[K = Link.all(:include => :votes)1.9.3-p385 :032 >   l.count[K = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})[2@[conditions => { :votes => { :user_id => 5}}])1.9.3-p385 :032 >   ;[Kl.count = Link.all(:include => :votes, :[conditions => { :votes => { :user_id => 5}})1.9.3-p385 :032 >   l = Link.all(:[28@joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):32)
  [1m[36mLink Load (1.0ms)[0m  [1mSELECT links.*, sum(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">] 
1.9.3-p385 :033 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")^C
1.9.3-p385 :033 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")s[1@l[1@i[1@n[1@k[1P[1P[1P[1P[1P[1@ [1@l[1@i[1@n[1@k[1@s[1@.[1@v[1@o[1@t[1@e[1@s[1@.[1@*[1@,[1@ 
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):33)
  [1m[35mLink Load (0.8ms)[0m  SELECT links.*, links.votes.*, um(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
PG::InvalidSchemaName: ERROR:  schema "links" does not exist
: SELECT links.*,  links.votes.*, um(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
ActiveRecord::StatementInvalid: PG::InvalidSchemaName: ERROR:  schema "links" does not exist
: SELECT links.*,  links.votes.*, um(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/rack-mini-profiler-0.1.31/Ruby/lib/patches/sql_patches.rb:155:in `exec'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/rack-mini-profiler-0.1.31/Ruby/lib/patches/sql_patches.rb:155:in `async_exec'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in `exec_no_cache'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:138:in `block in exec_query'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:425:in `block in log'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:420:in `log'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:137:in `exec_query'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:885:in `select'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:24:in `select_all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:63:in `select_all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/querying.rb:36:in `find_by_sql'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:585:in `exec_queries'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:471:in `load'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:220:in `to_a'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-deprecated_finders-1.0.3/lib/active_record/deprecated_finders/relation.rb:168:in `all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-deprecated_finders-1.0.3/lib/active_record/deprecated_finders/base.rb:67:in `all'
	from (irb):33
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'1.9.3-p385 :034 > ^C
1.9.3-p385 :034 > 
1.9.3-p385 :035 >   ^C
1.9.3-p385 :035 > l = Link.all(:joins => :votes, :select => "links.*, sum(votes.value) as votes_value", :group => "links.id")[1@l[1@i[1@m[1@k[1@s[1P[1P[1P[1@n[1@k[1@s[1@.[1@v[1@o[1@t[1@e[1@s[1@.[1@v[1@a[1@lu[1@u[1@e[1@,[1@ [1@su[1P
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):35)
  [1m[36mLink Load (0.7ms)[0m  [1mSELECT links.*, slinks.votes.value, sm(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id[0m
PG::InvalidSchemaName: ERROR:  schema "slinks" does not exist
: SELECT links.*, slinks.votes.value, sm(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
ActiveRecord::StatementInvalid: PG::InvalidSchemaName: ERROR:  schema "slinks" does not exist
: SELECT links.*, slinks.votes.value, sm(votes.value) as votes_value FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" GROUP BY links.id
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/rack-mini-profiler-0.1.31/Ruby/lib/patches/sql_patches.rb:155:in `exec'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/rack-mini-profiler-0.1.31/Ruby/lib/patches/sql_patches.rb:155:in `async_exec'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in `exec_no_cache'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:138:in `block in exec_query'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:425:in `block in log'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:420:in `log'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:137:in `exec_query'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:885:in `select'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:24:in `select_all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:63:in `select_all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/querying.rb:36:in `find_by_sql'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:585:in `exec_queries'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:471:in `load'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:220:in `to_a'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-deprecated_finders-1.0.3/lib/active_record/deprecated_finders/relation.rb:168:in `all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-deprecated_finders-1.0.3/lib/active_record/deprecated_finders/base.rb:67:in `all'
	from (irb):35
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'1.9.3-p385 :036 > 
1.9.3-p385 :037 >   
1.9.3-p385 :038 >   l = Link.all(:joins => :votes, :select => "links.*, slinks.votes.value, sm(votes.value) as votes_value", :group => "links.id")^C
1.9.3-p385 :038 > (reverse-i-search)`': i': l = Link.all(:joins => :votes, :select => "links.*, slinks.votes.value, sm(votes.value) as votes_value", :group => "links.id")(reverse-i-search)`i[1@n': l = Link.all(:joins => :votes, :select => "links.*, slinks.votes.value, sm(votes.value) as votes_value", :group => "l(reverse-i-search)`inc': l = Link.all(:include => :votes)[K[1@l': l = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})(reverse-i-search)`incl': l = Link.all(:[8P1.9.3-p385 :038 > l = Link.all(:
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):38)
  [1m[35mSQL (1.1ms)[0m  SELECT "links"."id" AS t0_r0, "links"."title" AS t0_r1, "links"."url" AS t0_r2, "links"."description" AS t0_r3, "links"."created_at" AS t0_r4, "links"."updated_at" AS t0_r5, "votes"."id" AS t1_r0, "votes"."value" AS t1_r1, "votes"."created_at" AS t1_r2, "votes"."updated_at" AS t1_r3, "votes"."link_id" AS t1_r4, "votes"."user_id" AS t1_r5 FROM "links" LEFT OUTER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE "votes"."user_id" = 5
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :039 > l = Link.all(:include => :votes, :conditions => { :votes => { :user_id => 5}})
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):39)
  [1m[36mSQL (1.1ms)[0m  [1mSELECT "links"."id" AS t0_r0, "links"."title" AS t0_r1, "links"."url" AS t0_r2, "links"."description" AS t0_r3, "links"."created_at" AS t0_r4, "links"."updated_at" AS t0_r5, "votes"."id" AS t1_r0, "votes"."value" AS t1_r1, "votes"."created_at" AS t1_r2, "votes"."updated_at" AS t1_r3, "votes"."link_id" AS t1_r4, "votes"."user_id" AS t1_r5 FROM "links" LEFT OUTER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE "votes"."user_id" = 5[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :040 > Link.includes(:votes)
  [1m[35mLink Load (1.3ms)[0m  SELECT "links".* FROM "links"
  [1m[36mVote Load (0.9ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :041 > 
1.9.3-p385 :042 >   l.first.votes
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 1, value: 1, created_at: nil, updated_at: "2013-10-15 20:42:06", link_id: 1, user_id: 5>]> 
1.9.3-p385 :043 > l.first.votesLink.includes(:votes).where("user_id == 5"     5")
  [1m[35mLink Load (1.0ms)[0m  SELECT "links".* FROM "links" WHERE (user_id = 5)
PG::UndefinedColumn: ERROR:  column "user_id" does not exist
LINE 1: SELECT "links".* FROM "links"  WHERE (user_id = 5)
                                              ^
: SELECT "links".* FROM "links"  WHERE (user_id = 5)
ActiveRecord::StatementInvalid: PG::UndefinedColumn: ERROR:  column "user_id" does not exist
LINE 1: SELECT "links".* FROM "links"  WHERE (user_id = 5)
                                              ^
: SELECT "links".* FROM "links"  WHERE (user_id = 5)
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/rack-mini-profiler-0.1.31/Ruby/lib/patches/sql_patches.rb:155:in `exec'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/rack-mini-profiler-0.1.31/Ruby/lib/patches/sql_patches.rb:155:in `async_exec'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in `exec_no_cache'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:138:in `block in exec_query'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:425:in `block in log'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:420:in `log'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:137:in `exec_query'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:885:in `select'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:24:in `select_all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:63:in `select_all'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/querying.rb:36:in `find_by_sql'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:585:in `exec_queries'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:471:in `load'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:220:in `to_a'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/relation.rb:573:in `inspect'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'1.9.3-p385 :044 > 
1.9.3-p385 :045 >   Link.includes(:votes).where("user_id = 5")[1P= [1P"[1@v[1@o[1@t[1@e[1@s[1@.
DEPRECATION WARNING: It looks like you are eager loading table(s) (one of: links, votes) that are referenced in a string SQL snippet. For example: 

    Post.includes(:comments).where("comments.title = 'foo'")

Currently, Active Record recognizes the table in the string, and knows to JOIN the comments table to the query, rather than loading comments in a separate query. However, doing this without writing a full-blown SQL parser is inherently flawed. Since we don't want to write an SQL parser, we are removing this functionality. From now on, you must explicitly tell Active Record when you are referencing a table from a string:

    Post.includes(:comments).where("comments.title = 'foo'").references(:comments)

If you don't rely on implicit join references you can disable the feature entirely by setting `config.active_record.disable_implicit_join_references = true`. (called from block in <module:IRB> at /home/vagrant/.rvm/rubies/ruby-1.9.3-p385/lib/ruby/1.9.1/irb/inspector.rb:86)
  [1m[36mSQL (1.1ms)[0m  [1mSELECT "links"."id" AS t0_r0, "links"."title" AS t0_r1, "links"."url" AS t0_r2, "links"."description" AS t0_r3, "links"."created_at" AS t0_r4, "links"."updated_at" AS t0_r5, "votes"."id" AS t1_r0, "votes"."value" AS t1_r1, "votes"."created_at" AS t1_r2, "votes"."updated_at" AS t1_r3, "votes"."link_id" AS t1_r4, "votes"."user_id" AS t1_r5 FROM "links" LEFT OUTER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE (votes.user_id=5)[0m
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :046 > Link.includes(:votes).where("votes.user_id=5").references(:votes)
  [1m[35mSQL (1.5ms)[0m  SELECT "links"."id" AS t0_r0, "links"."title" AS t0_r1, "links"."url" AS t0_r2, "links"."description" AS t0_r3, "links"."created_at" AS t0_r4, "links"."updated_at" AS t0_r5, "votes"."id" AS t1_r0, "votes"."value" AS t1_r1, "votes"."created_at" AS t1_r2, "votes"."updated_at" AS t1_r3, "votes"."link_id" AS t1_r4, "votes"."user_id" AS t1_r5 FROM "links" LEFT OUTER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE (votes.user_id=5)
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :047 > Link.includes(:votes).where("votes.user_id=5").references(:votes)1.9.3-p385 :047 > [1@l[1@ [1@=[1@ 
  [1m[36mSQL (1.1ms)[0m  [1mSELECT "links"."id" AS t0_r0, "links"."title" AS t0_r1, "links"."url" AS t0_r2, "links"."description" AS t0_r3, "links"."created_at" AS t0_r4, "links"."updated_at" AS t0_r5, "votes"."id" AS t1_r0, "votes"."value" AS t1_r1, "votes"."created_at" AS t1_r2, "votes"."updated_at" AS t1_r3, "votes"."link_id" AS t1_r4, "votes"."user_id" AS t1_r5 FROM "links" LEFT OUTER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE (votes.user_id=5)[0m
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :048 > l.count
  [1m[35m (1.4ms)[0m  SELECT COUNT(DISTINCT "links"."id") FROM "links" LEFT OUTER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE (votes.user_id=5)
 => 2 
1.9.3-p385 :049 > l.count = Link.includes(:votes).where("votes.user_id=5").references(:votes)                                            
  [1m[36mLink Load (1.1ms)[0m  [1mSELECT "links".* FROM "links"[0m
  [1m[35mVote Load (1.0ms)[0m  SELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :050 > l.con unt
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
 => 3 
1.9.3-p385 :051 > l.count = Link.includes(:votes)1.9.3-p385 :051 > l.count[K = Link.includes(:votes).where("votes.user_id=5").references(:votes)
  [1m[35mSQL (1.5ms)[0m  SELECT "links"."id" AS t0_r0, "links"."title" AS t0_r1, "links"."url" AS t0_r2, "links"."description" AS t0_r3, "links"."created_at" AS t0_r4, "links"."updated_at" AS t0_r5, "votes"."id" AS t1_r0, "votes"."value" AS t1_r1, "votes"."created_at" AS t1_r2, "votes"."updated_at" AS t1_r3, "votes"."link_id" AS t1_r4, "votes"."user_id" AS t1_r5 FROM "links" LEFT OUTER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE (votes.user_id=5)
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :052 > l = Link.includes(:votes).where("votes.user_id=5").references(:votes)[1P[1P[1P[1P[1P[1P[1P[1P[1@j[1@o[1@i[1@n[1@s
  [1m[36mLink Load (1.4ms)[0m  [1mSELECT "links".* FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE (votes.user_id=5)[0m
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :053 > l = Link.joins(:votes).where("votes.user_id=5").references(:votes)                   
  [1m[35mLink Load (0.8ms)[0m  SELECT "links".* FROM "links" INNER JOIN "votes" ON "votes"."link_id" = "links"."id" WHERE (votes.user_id=5)
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :054 > l = Link.joins(:votes).where("votes.user_id=5")1.9.3-p385 :054 > [Kl.first  st.votes
  [1m[36mVote Load (0.9ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" = $1[0m  [["link_id", 1]]
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 1, value: 1, created_at: nil, updated_at: "2013-10-15 20:42:06", link_id: 1, user_id: 5>, #<Vote id: 3, value: 1, created_at: "2013-10-15 20:45:24", updated_at: "2013-10-15 20:45:24", link_id: 1, user_id: 4>]> 
1.9.3-p385 :055 > l.first.votes = Link.joins(:votes).where("votes.user_id=5")^C
1.9.3-p385 :055 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")
NameError: undefined local variable or method `current_user' for main:Object
	from (irb):55
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :056 > 
1.9.3-p385 :057 >   
1.9.3-p385 :058 >   ^C
1.9.3-p385 :058 > 
1.9.3-p385 :059 >   ^C
1.9.3-p385 :059 > 
1.9.3-p385 :060 >   ^C
1.9.3-p385 :060 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")r.id}[1@\[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1@5
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):60)
  [1m[35mLink Load (1.1ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.8ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :061 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5")1.9.3-p385 :061 > [1@l[1@ [1P[1P[1@l[1@ [1@=[1@ L[1@L[1@i[1@n[1@k[1@.[1@a[1@l[1@l[1@([1@:[1@i[1@n[1@c[1@l[1@u[1@d[1@e[1@ [1@=[1@>[1@ [1@:[1@v[1@o[1@t[1@e[1@s[1@,[1@ [1@:[1@j[1@o[1@i[1@n[1@s[1@ [1@=[1@>[1@ [1@"L[1@L[1@E[1@F[1@T[1@ [1@O[1@U[1@T[1@E[1@R[1@ [1@J[1@OILink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5") [A.9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOINLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5"))[A.9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5")[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN vLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5")[A.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN voLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = [1@5[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id =[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN voteLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id [1@=[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votesLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_i[1@d[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes OLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_[1@i[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ONLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user[1@_[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.use[1@r[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON lLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.us[1@e[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON liLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.u[1@s[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON linLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.[1@u[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON linkLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes[1@.[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON linksLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND vote[1@s[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND vot[1@e[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.iLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND vo[1@t[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.idLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND v[1@o[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND [1@v[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id =Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AN[1@D[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = vLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id A[1@N[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = voLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id [1@A[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = voteLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_i[1@d[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votesLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_[1@i[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link[1@_[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.lLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.lin[1@k[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.liLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.li[1@n[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.linLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.l[1@i[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.linkLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.[1@l[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes[1@.[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_iLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = vote[1@s[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_idLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = vot[1@e[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = vo[1@t[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id ALink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = v[1@o[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id ANLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = [1@v[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id ANDLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id =[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id [1@=[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND vLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND voLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.i[1@d[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.[1@i[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND voteLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links[1@.[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votesLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON link[1@s[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON lin[1@k[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.uLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON li[1@n[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.usLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON l[1@i[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.useLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON [1@l[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.userLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes O[1@N[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_iLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes [1@O[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_idLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id Link.all(:include => :votes, :joins => "LEFT OUTER JOIN vote[1@s[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id =Link.all(:include => :votes, :joins => "LEFT OUTER JOIN vot[1@e[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN vo[1@t[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #Link.all(:include => :votes, :joins => "LEFT OUTER JOIN v[1@o[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{Link.all(:include => :votes, :joins => "LEFT OUTER JOIN [1@v[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{cLink.all(:include => :votes, :joins => "LEFT OUTER JOIN[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{cuLink.all(:include => :votes, :joins => "LEFT OUTER JOI[1@N[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{curLink.all(:include => :votes, :joins => "LEFT OUTER JO[1@I[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{currLink.all(:include => :votes, :joins => "LEFT OUTER J[1@O[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{curreLink.all(:include => :votes, :joins => "LEFT OUTER [1@J[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{currenLink.all(:include => :votes, :joins => "LEFT OUTER[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{currentLink.all(:include => :votes, :joins => "LEFT OUTE[1@R[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_Link.all(:include => :votes, :joins => "LEFT OUT[1@E[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_uLink.all(:include => :votes, :joins => "LEFT OU[1@T[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_usLink.all(:include => :votes, :joins => "LEFT O[1@U[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_useLink.all(:include => :votes, :joins => "LEFT [1@O[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_userLink.all(:include => :votes, :joins => "LEFT[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.Link.all(:include => :votes, :joins => "LEF[1@T[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.iLink.all(:include => :votes, :joins => "LE[1@F[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.idLink.all(:include => :votes, :joins => "L[1@E[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}Link.all(:include => :votes, :joins => "[1@L[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}"Link.all(:include => :votes, :joins => [1@"[A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")Link.all(:include => :votes, :joins =>[1@ [A9.3-p385 :061 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")^C

1.9.3-p385 :061 > 
1.9.3-p385 :062 >   
1.9.3-p385 :063 >   ^C
1.9.3-p385 :063 > 
1.9.3-p385 :064 >   
1.9.3-p385 :065 >   ^C
1.9.3-p385 :065 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1@5
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):65)
  [1m[35mLink Load (1.3ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.9ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :066 > l.couts  nts 
 => 3 
1.9.3-p385 :067 > l = Link.all
  [1m[35mLink Load (0.7ms)[0m  SELECT "links".* FROM "links"
 => #<ActiveRecord::Relation [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">]> 
1.9.3-p385 :068 > l.count
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "links"[0m
 => 3 
1.9.3-p385 :069 > l.count = Link.all[5P.count = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):69)
  [1m[35mLink Load (1.4ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.8ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :070 > l.count
 => 3 
1.9.3-p385 :071 > l[0]
 => #<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40"> 
1.9.3-p385 :072 > l[0].votes
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 1, value: 1, created_at: nil, updated_at: "2013-10-15 20:42:06", link_id: 1, user_id: 5>, #<Vote id: 3, value: 1, created_at: "2013-10-15 20:45:24", updated_at: "2013-10-15 20:45:24", link_id: 1, user_id: 4>]> 
1.9.3-p385 :073 > l[0].votes[Kl[0].votes[Kl[0].votes.count                l[0].count = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5"))
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):73)
  [1m[35mLink Load (1.2ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.7ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :074 > . l[0]
 => #<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40"> 
1.9.3-p385 :075 > l[0].votes
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 1, value: 1, created_at: nil, updated_at: "2013-10-15 20:42:06", link_id: 1, user_id: 5>, #<Vote id: 3, value: 1, created_at: "2013-10-15 20:45:24", updated_at: "2013-10-15 20:45:24", link_id: 1, user_id: 4>]> 
1.9.3-p385 :076 > l[0].votes[1P[1@1
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 4, value: -1, created_at: "2013-10-15 20:45:43", updated_at: "2013-10-15 20:45:43", link_id: 2, user_id: 4>]> 
1.9.3-p385 :077 > l[1].votes[1P[1@2
 => #<ActiveRecord::Associations::CollectionProxy []> 
1.9.3-p385 :078 > l[2].votes1].votes0].votes[K = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5").to_sql
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):78)
  [1m[35mLink Load (0.8ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.9ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
NoMethodError: undefined method `to_sql' for #<Array:0xb024940>
	from (irb):78
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :079 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5").to_sqll1.9.3-p385 :079 > l^C
1.9.3-p385 :079 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5").to_sql1.9.3-p385 :079 > l ^C
1.9.3-p385 :079 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5").to_sql1.9.3-p385 :079 > [K
1.9.3-p385 :080 >   ^C
1.9.3-p385 :080 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5").to_sql;
1.9.3-p385 :081 >   ^C
1.9.3-p385 :081 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5").to_sql;;        
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):81)
  [1m[35mLink Load (1.1ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.9ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :082 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5")es.user_id = 5")D1.9.3-p385 :082 > ^C
1.9.3-p385 :082 > l = l Link.all(:incld ude => :votes, :joins =?   > "LEFT OUTER JOIN votes o ON links.id = votes.lin_ k_id AND v votes.user_id =5
1.9.3-p385 :083"> ;
1.9.3-p385 :084"> ;l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id =5);
1.9.3-p385 :085 >   Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")^C
1.9.3-p385 :085 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1@5
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):85)
  [1m[35mLink Load (1.0ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.8ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :086 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5")r_id = 5")1.9.3-p385 :086 > l = Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id =5);1.9.3-p385 :086 > [3PLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5")1.9.3-p385 :086 > [KLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")^C
1.9.3-p385 :086 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")^C
1.9.3-p385 :086 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND[1@(links.id = votes.link_id AND votes.user_id = 5);
1.9.3-p385 :087"> Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON (links.id = votes.link_id AND votes.user_id = 5););
1.9.3-p385 :088 >   ^C
1.9.3-p385 :088 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON (links.id = votes.link_id AND votes.user_id = 5));1.9.3-p385 :088 > [KLink.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND[1@(links.id = votes.link_id AND votes.user_id=5)"( );
1.9.3-p385 :089 >   ^C
1.9.3-p385 :089 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id ANDvotes.user_id = z              ^C
1.9.3-p385 :089 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id                        (links.id = votes.link_id AND votes.user_id = 5)");
1.9.3-p385 :090 >   
1.9.3-p385 :091 >   ^C
1.9.3-p385 :091 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON (links.id = votes.link_id)");
1.9.3-p385 :092 >   ^C
1.9.3-p385 :092 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id");
1.9.3-p385 :093 >   Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")^C
1.9.3-p385 :093 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1@5
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):93)
  [1m[35mLink Load (0.9ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.5ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :094 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}")[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1@5
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):94)
  [1m[35mLink Load (1.4ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5
  [1m[36mVote Load (0.8ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :095 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = 5")^C
1.9.3-p385 :095 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON (links.id = votes.link_id AND votes.user_id = 5)")
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):95)
  [1m[35mLink Load (1.2ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON (links.id = votes.link_id AND votes.user_id = 5)
  [1m[36mVote Load (0.6ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :096 > Link.all(:include => :votes, :joins => "LEFT OUTER JOIN votes ON (links.id = votes.link_id AND votes.user_id = 5)")1.9.3-p385 :096 > [1@l[1@ [1@=[1@ 
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from irb_binding at (irb):96)
  [1m[35mLink Load (1.2ms)[0m  SELECT "links".* FROM "links" LEFT OUTER JOIN votes ON (links.id = votes.link_id AND votes.user_id = 5)
  [1m[36mVote Load (0.5ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."link_id" IN (1, 2, 3)[0m
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :097 > l
 => [#<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40">, #<Link id: 2, title: "Slate", url: "http://www.slate.com", description: "A slate website", created_at: "2013-10-14 04:28:05", updated_at: "2013-10-14 04:28:05">, #<Link id: 3, title: "SFGate", url: "http://www.sfgate.com", description: "The local newspaper", created_at: "2013-10-15 21:34:49", updated_at: "2013-10-15 21:34:49">] 
1.9.3-p385 :098 > l[0]
 => #<Link id: 1, title: "NY Times", url: "http://www.nytimes.com", description: "A popular newspaper", created_at: "2013-10-14 01:16:40", updated_at: "2013-10-14 01:16:40"> 
1.9.3-p385 :099 > l[0].votes
 => #<ActiveRecord::Associations::CollectionProxy [#<Vote id: 1, value: 1, created_at: nil, updated_at: "2013-10-15 20:42:06", link_id: 1, user_id: 5>, #<Vote id: 3, value: 1, created_at: "2013-10-15 20:45:24", updated_at: "2013-10-15 20:45:24", link_id: 1, user_id: 4>]> 
1.9.3-p385 :100 > Link.include(:votes).joins("LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}").load
NoMethodError: private method `include' called for #<Class:0xabfc778>
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
	from (irb):100
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :101 > Link.include(:votes).joins("LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}").load1.9.3-p385 :101 > 
NoMethodError: private method `include' called for #<Class:0xabfc778>
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/activerecord-4.0.0/lib/active_record/dynamic_matchers.rb:22:in `method_missing'
	from (irb):101
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :102 > ^C
1.9.3-p385 :102 > Lik nk.includes(:votes).joins("LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}").load
NameError: undefined local variable or method `current_user' for main:Object
	from (irb):102
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:90:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands/console.rb:9:in `start'
	from /home/vagrant/.rvm/gems/ruby-1.9.3-p385@hartl-tut/gems/railties-4.0.0/lib/rails/commands.rb:64:in `<top (required)>'
	from bin/rails:4:in `require'
	from bin/rails:4:in `<main>'
1.9.3-p385 :103 > Link.includes(:votes).joins("LEFT OUTER JOIN votes ON links.id = votes.link_id AND votes.user_id = #{current_user.id}").load[1P[1P[1P[1P